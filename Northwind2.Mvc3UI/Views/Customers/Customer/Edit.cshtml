@******************************************************************************
 *   View Name: Edit
 *  Controller: Customer
 *  Decription: Allows editing of a Customer 
 *        Date: Thursday, July 7, 2016
 *      Author: ksafford                   
 *                    
 *  Modification History
 *  Who    When    What
 *  --- ---------- -----------------------------------------------------------
 * 
 ******************************************************************************@
@using Northwind2.Common.Constants
@using Northwind2.Mvc3UI.Infrastructure
@model Northwind2.Mvc3UI.ViewModels.Customers.CustomerViewModel

<div>
    
    @if (TempData["message"] != null) 
	{
        <div class="Message">@TempData["message"]</div>
    }
</div>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm("Edit", "Customer", FormMethod.Post, 
    new { enctype = "multipart/form-data" })) 
{
    <fieldset>
        @if (@Model.CustomerID == -1) 
        {
	        <legend>Customer Create</legend>
	    } 
        else 
        {
	        <legend>Customer Edit for Id = @Model.CustomerID</legend>
	    }
        <p class="error">@ViewBag.ErrorMessage</p>
    
	    @Html.HiddenFor(model => model.CustomerID)
	    @Html.HiddenFor(model => model.Modified)
        @Html.HiddenFor(model => model.ModifiedDate)
	    @Html.HiddenFor(model => model.ModifiedBy)
        @Html.HiddenFor(model => model.AddedDate)
	    @Html.HiddenFor(model => model.AddedBy)

        <table cellspacing="0" cellpadding="0" class="grid">
            <tr>
                <td>@Html.LabelFor(model => model.CustomerName)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.CustomerName)
                        @Html.ValidationMessageFor(model => model.CustomerName)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.ContactName)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.ContactName)
                        @Html.ValidationMessageFor(model => model.ContactName)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.ContactTitleID)</td>
                <td>
		            <div class="editor-field">
			            @Html.DropDownList("SelectedContactTitle")
			            @Html.ValidationMessageFor(model => model.ContactTitleID)
		            </div>	
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.Address1)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.Address1)
                        @Html.ValidationMessageFor(model => model.Address1)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.Address2)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.Address2)
                        @Html.ValidationMessageFor(model => model.Address2)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.City)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.City)
                        @Html.ValidationMessageFor(model => model.City)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.Region)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.Region)
                        @Html.ValidationMessageFor(model => model.Region)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.PostalCode)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.PostalCode)
                        @Html.ValidationMessageFor(model => model.PostalCode)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.CountryID)</td>
                <td>
		            <div class="editor-field">
			            @Html.DropDownList("SelectedCountry")
			            @Html.ValidationMessageFor(model => model.CountryID)
		            </div>	
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.Phone)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.Phone)
                        @Html.ValidationMessageFor(model => model.Phone)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.Fax)</td>
                <td>
                    <div class="editor-field">
	                    @Html.EditorFor(model => model.Fax)
                        @Html.ValidationMessageFor(model => model.Fax)
                    </div>
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.CustomerIDOld)</td>
                <td>
                    <div class="editor-field">
			            @Html.EditorFor(model => model.CustomerIDOld)
                        @Html.ValidationMessageFor(model => model.CustomerIDOld)
                    </div>
                </td>
            </tr>
        </table>

        <p>
            @Html.AntiForgeryToken() 
		    <input type="submit" value="Save" />
	    </p>
    </fieldset>	  
	
    <div>
	    @Html.ActionLink(Constants.CANCEL_AND_RETURN_TO_LIST, "Index")
    </div>	  

    @RenderPage("_CustomerLists.cshtml")
}